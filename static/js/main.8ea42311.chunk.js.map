{"version":3,"sources":["components/GalleryLoader/GalleryLoader.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/QueryError/QueryError.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","services/image-gallery-api.js","components/GalleryLoader/GalleryLoader.js","components/QueryError/QueryError.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleInputChange","e","value","currentTarget","setState","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","reset","toast","error","this","className","s","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","imageGalleryApi","fetchImages","query","axios","defaults","baseURL","params","key","image_type","orientation","per_page","get","then","response","status","data","hits","length","Promise","reject","Error","GalleryLoader","color","width","height","GalleryLoaderText","QueryError","queryError","message","ImageGalleryItem","onClick","image","webformatURL","tags","largeImageURL","src","alt","ImageGalleryItemImage","modalRoot","document","querySelector","Modal","handleEscKey","code","onClose","handleOverlayClick","target","window","addEventListener","removeEventListener","modalImgUrl","createPortal","Overlay","Button","ImageGallery","images","page","showModal","onGalleryImgClick","dataset","closeModal","handleBtnClick","console","log","prevProps","prevSate","catch","map","id","App","formSubmitHandler","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8ea42311.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"GalleryLoader\":\"GalleryLoader_GalleryLoader__1dA13\",\"GalleryLoaderText\":\"GalleryLoader_GalleryLoaderText__NpM4Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__PQwWA\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__SZ4wG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__27wXa\",\"Modal\":\"Modal_Modal__aoEy9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"QueryError\":\"QueryError_QueryError__QaBh_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2kKm1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2ESvS\"};","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\n\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    inputValue: '',\n  };\n\n  handleInputChange = e => {\n    const { value } = e.currentTarget;\n\n    this.setState({ inputValue: value.toLowerCase() });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.inputValue.trim() === '') {\n      toast.error('Please, enter your query!');\n      return;\n    }\n\n    this.props.onSubmit(this.state.inputValue);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ inputValue: '' });\n  };\n\n  render() {\n    const { inputValue } = this.state;\n    const { handleSubmit, handleInputChange } = this;\n\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={inputValue}\n            onChange={handleInputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import axios from 'axios';\n\nconst API_KEY = '22025483-02f71c6158d17e06d5b927dc1';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nfunction fetchImages(query) {\n  axios.defaults.baseURL = `${BASE_URL}?q=${query}`;\n  axios.defaults.params = {\n    key: API_KEY,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    per_page: 12,\n  };\n\n  return axios.get().then(response => {\n    if (response.status === 200 && response.data.hits.length > 0) {\n      return response.data;\n    }\n\n    return Promise.reject(new Error('Oops nothing was found :('));\n  });\n}\n\nconst imageGalleryApi = {\n  fetchImages,\n};\nexport default imageGalleryApi;\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\n\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './GalleryLoader.module.css';\n\nconst GalleryLoader = () => {\n  return (\n    <div className={s.GalleryLoader}>\n      <Loader color=\"#A9A9A9\" width=\"100\" height=\"100\" />\n      <p className={s.GalleryLoaderText}>Loading...</p>\n    </div>\n  );\n};\n\nexport default GalleryLoader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './QueryError.module.css';\n\nconst QueryError = ({ queryError }) => {\n  return <p className={s.QueryError}>{queryError.message}</p>;\n};\n\nQueryError.propTypes = {\n  queryError: PropTypes.string,\n};\n\nexport default QueryError;\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({\n  onClick,\n  image: { webformatURL, tags, largeImageURL },\n}) => {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={s.ImageGalleryItemImage}\n        data-src={largeImageURL}\n        onClick={onClick}\n      ></img>\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n  }),\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleEscKey);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleEscKey);\n  }\n\n  handleEscKey = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleOverlayClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { handleOverlayClick } = this;\n    const { modalImgUrl } = this.props;\n\n    return createPortal(\n      <div className={s.Overlay} onClick={handleOverlayClick}>\n        <div className={s.Modal}>\n          <img src={modalImgUrl} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  modalImgUrl: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React from 'react';\nimport s from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button onClick={onClick} className={s.Button}>\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport imageGalleryApi from '../../services/image-gallery-api';\nimport PropTypes from 'prop-types';\n\nimport GalleryLoader from '../GalleryLoader';\nimport QueryError from '../QueryError';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport Modal from '../Modal';\nimport Button from '../Button';\n\nimport s from './ImageGallery.module.css';\n\nclass ImageGallery extends Component {\n  state = {\n    images: [],\n    page: 1,\n    error: null,\n    showModal: false,\n    modalImgUrl: '',\n    status: 'idle',\n  };\n\n  componentDidUpdate(prevProps, prevSate) {\n    if (prevProps.query !== this.props.query) {\n      this.setState({ status: 'pending' });\n\n      const query = this.props.query;\n\n      imageGalleryApi\n        .fetchImages(query)\n        .then(({ hits }) => {\n          this.setState({\n            images: hits,\n            status: 'resolved',\n          });\n        })\n        .catch(error =>\n          this.setState({\n            error,\n            status: 'rejected',\n          }),\n        );\n    }\n  }\n\n  onGalleryImgClick = e => {\n    const modalImgUrl = e.target.dataset.src;\n\n    this.setState(({ showModal }) => ({\n      modalImgUrl: modalImgUrl,\n      showModal: !showModal,\n    }));\n  };\n\n  closeModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  handleBtnClick = e => {\n    console.log(e);\n  };\n\n  render() {\n    const { images, status, error, showModal, modalImgUrl } = this.state;\n\n    if (status === 'idle') {\n      return <div></div>;\n    }\n\n    if (status === 'pending') {\n      return <GalleryLoader />;\n    }\n\n    if (status === 'rejected') {\n      return <QueryError queryError={error} />;\n    }\n\n    if (status === 'resolved') {\n      return (\n        <>\n          <ul className={s.ImageGallery}>\n            {images.map(image => {\n              return (\n                <ImageGalleryItem\n                  key={image.id}\n                  image={image}\n                  onClick={this.handleBtnClick}\n                />\n              );\n            })}\n          </ul>\n\n          {showModal && modalImgUrl && (\n            <Modal modalImgUrl={modalImgUrl} onClose={this.closeModal} />\n          )}\n\n          <Button onClick={this.handleBtnClick} />\n        </>\n      );\n    }\n  }\n}\n\nImageGallery.propTypes = {\n  query: PropTypes.string.isRequired,\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\n\nimport Searchbar from './Searchbar';\nimport ImageGallery from './ImageGallery';\n\nclass App extends Component {\n  state = {\n    images: [],\n    query: '',\n  };\n\n  formSubmitHandler = inputValue => {\n    this.setState({ query: inputValue });\n  };\n\n  render() {\n    const { query } = this.state;\n    const { formSubmitHandler } = this;\n\n    return (\n      <>\n        <Searchbar onSubmit={formSubmitHandler} />\n        <ImageGallery query={query} />\n        <ToastContainer autoClose={3000} />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1sRW4\",\"SearchForm\":\"Searchbar_SearchForm__3YBAY\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1eNRj\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3E3aK\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3Jkoc\"};"],"sourceRoot":""}